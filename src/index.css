@tailwind base;
@tailwind components;
@tailwind utilities;

/* * Definition of the elegant dark design system. 
 * All colors, gradients, and effects are defined using HSL values 
 * to ensure consistency with the premium palette.
 */

@layer base {
    :root {
        /* Premium Color Palette (Used for Base, Primary, Secondary) */
        --berry-deep: 348 89% 29%; /* Primary Red/Berry */
        --emerald-rich: 163 95% 22%; /* Secondary Green/Emerald */
        --gold-warm: 38 43% 65%; /* Accent Gold */
        --black-deep: 0 0% 4%; /* Deepest Black */
        
        /* Core Theme Colors */
        --background: var(--black-deep);
        --foreground: 38 43% 95%; /* Near-White/Off-Gold for text */

        /* Components: Card/Popover use a slightly less deep version of Berry */
        --card: 348 89% 12%; 
        --card-foreground: var(--foreground);

        --popover: var(--card);
        --popover-foreground: var(--foreground);

        /* Actions */
        --primary: var(--berry-deep);
        --primary-foreground: var(--foreground);

        --secondary: var(--emerald-rich);
        --secondary-foreground: var(--foreground);

        /* Muted for secondary text and borders */
        --muted: 0 0% 15%;
        --muted-foreground: var(--gold-warm);

        --accent: var(--gold-warm); /* Gold Accent */
        --accent-foreground: var(--black-deep); /* Text on Gold */

        --destructive: 0 84.2% 60.2%; /* Standard Red for alerts */
        --destructive-foreground: var(--foreground);

        --border: 38 43% 25%;
        --input: 38 43% 25%;
        --ring: var(--gold-warm); /* Gold Ring focus */

        --radius: 0.75rem; /* Reduced slightly for modern feel */
        
        /* Satin Gradients (Used for backgrounds/buttons) */
        --gradient-satin-berry: linear-gradient(135deg, hsl(348 89% 29%) 0%, hsl(348 89% 20%) 50%, hsl(348 89% 29%) 100%);
        --gradient-satin-emerald: linear-gradient(135deg, hsl(163 95% 22%) 0%, hsl(163 95% 15%) 50%, hsl(163 95% 22%) 100%);
        --gradient-gold-overlay: linear-gradient(180deg, hsla(38 43% 65% / 0) 0%, hsla(38 43% 65% / 0.1) 100%);
        
        /* Effects */
        --shadow-glow-gold: 0 0 40px hsla(38 43% 65% / 0.4);
        --shadow-elegant: 0 20px 60px hsla(0 0% 0% / 0.6);
        --transition-smooth: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        
        /* Removed unnecessary and conflicting standard dark mode variables. 
           This theme is inherently dark. */
    }

    * {
        @apply border-border;
    }

    body {
        @apply bg-background text-foreground;
        /* Assuming 'Inter' is imported externally */
        font-family: 'Inter', sans-serif;
    }
    
    h1, h2, h3, h4, h5, h6 {
        /* Assuming 'Playfair Display' is imported externally */
        font-family: 'Playfair Display', serif;
    }
}

@layer components {
    /* --- CUSTOM FLIP CARD STYLING --- */
    
    .countdown-container {
        @apply py-10; 
    }
    
    .countdown-title {
        /* Used text-accent utility for consistency */
        @apply text-accent text-2xl font-bold uppercase tracking-widest; 
    }

    /* Styling Unit Kartu */
    .flip-card-unit {
        @apply flex flex-col items-center mx-3;
    }

    .flip-card-label {
        @apply mt-2 text-sm uppercase tracking-widest;
        color: hsl(var(--accent)); 
        font-family: 'Playfair Display', serif;
    }
    
    .flip-card-wrapper {
        /* Applied border-accent class for Tailwind integration */
        @apply flex rounded-xl border-2 border-solid overflow-hidden elegant-shadow border-accent; 
    }
    
    .digit-container {
        position: relative;
        /* DESKTOP/DEFAULT SIZE */
        width: 4.5rem; /* 72px */
        height: 5.5rem; /* 88px */
        font-size: 4rem; 
        line-height: 5.5rem;
        text-align: center;
        color: hsl(var(--foreground));
        font-family: 'Inter', sans-serif;
        font-weight: 800;
        
        transform-style: preserve-3d;
        perspective: 200px;
        transition: var(--transition-smooth); /* Use custom variable */
    }

    .digit-container:first-child {
        border-right: 1px solid hsla(var(--accent) / 0.3); 
    }
    
    /* Elemen kartu statis dan flip */
    .digit-top,
    .digit-bottom,
    .flip-top,
    .flip-bottom {
        position: absolute;
        width: 100%;
        height: 50%; 
        overflow: hidden;
        left: 0;
        transform: rotateX(0deg); 
        transform-style: preserve-3d;
        backface-visibility: hidden;
    }
    
    .digit-top, .flip-top {
        top: 0;
        border-bottom: 1px solid hsla(var(--accent) / 0.2);
    }
    
    .digit-bottom, .flip-bottom {
        bottom: 0;
    }
    
    /* Content Styling */
    .digit-top::after, .digit-bottom::after, .flip-top::after, .flip-bottom::after {
        content: attr(data-content);
        position: absolute;
        width: 100%;
        left: 0;
        color: inherit; 
    }
    
    .digit-top::after, .flip-top::after {
        top: 0;
    }
    
    .digit-bottom::after, .flip-bottom::after {
        top: -100%; 
    }
    
    /* Styling Kartu Flip (The moving parts) */
    .flip-top, .flip-bottom {
        background-color: hsl(var(--black-deep)); 
        z-index: 2;
    }
    
    .flip-top {
        transform-origin: 50% 100%; 
    }
    
    .flip-bottom {
        transform-origin: 50% 0%; 
        z-index: 3;
    }
    
    /* Elemen statis (The background card) */
    /* Changed to use --card for background to create depth/contrast */
    .digit-top, .digit-bottom {
        background-color: hsl(var(--card)); 
        z-index: 1; 
    }

    /* === RESPONSIVENESS FIXES (Mobile) === */
    /* The redundant desktop size override was removed to clean up the flow. 
       The default size now acts as the desktop size. */
    @media (max-width: 640px) {
        .timer-wrapper {
            gap: 0.5rem; /* Reduced gap */
        }
        
        .flip-card-unit {
            margin: 0 0.5rem;
        }

        .digit-container {
            /* MOBILE SIZE (Used original values) */
            width: 35px; 
            height: 55px;
            font-size: 2.2em; 
            line-height: 55px;
        }

        .flip-card-wrapper {
            border-width: 1px;
        }

        .flip-card-label {
            font-size: 0.75em; /* Smallest text size */
        }
    }
}

@layer utilities {
    /* Defined text-accent as a clean alternative to text-gold */
    .text-accent {
      color: hsl(var(--accent));
    }
    
    .text-gold {
        color: hsl(var(--accent));
    }
    
    .bg-satin-berry {
        background: var(--gradient-satin-berry);
    }
    
    .bg-satin-emerald {
        background: var(--gradient-satin-emerald);
    }
    
    .glow-gold {
        box-shadow: var(--shadow-glow-gold);
    }
    
    .elegant-shadow {
        box-shadow: var(--shadow-elegant);
    }
    
    .animate-fade-in {
        animation: fadeIn 1s ease-out forwards;
    }
    
    .animate-slide-up {
        animation: slideUp 0.8s ease-out forwards;
    }
    
    .animate-parallax {
        animation: parallax 20s ease-in-out infinite;
    }
    
    /* --- CUSTOM FLIP CARD KEYFRAMES --- */
    
    @keyframes flip-top-out {
        0% {
            transform: rotateX(0deg);
        }
        100% {
            transform: rotateX(-180deg); 
        }
    }

    @keyframes flip-bottom-in {
        0% {
            transform: rotateX(180deg); 
        }
        100% {
            transform: rotateX(0deg); 
        }
    }

    /* Class untuk memicu animasi dari JS/TS */
    .animate-flip-top-out {
        animation: flip-top-out 0.6s ease-in both;
    }

    .animate-flip-bottom-in {
        animation: flip-bottom-in 0.6s ease-out both;
    }
    
    /* --- OTHER KEYFRAMES AND ANIMATIONS (Original) --- */

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @keyframes slideUp {
        from {
            opacity: 0;
            transform: translateY(40px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }
    
    @keyframes parallax {
        0%, 100% {
            transform: translateY(0) scale(1);
        }
        50% {
            transform: translateY(-10px) scale(1.02);
        }
    }
    
    @keyframes sparkle {
        0%, 100% {
            opacity: 0;
            transform: scale(0);
        }
        50% {
            opacity: 1;
            transform: scale(1);
        }
    }
}